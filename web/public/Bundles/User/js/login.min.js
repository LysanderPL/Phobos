/**
 * Created by maciej on 16.07.16.
 */
var Login=function(){"use strict";function n(){var n=jQuery('input[name="_username"]').val(),e=MD5.Run(jQuery('input[name="_password"]').val()),a=jQuery('input[name="_submit"]').val(),r=jQuery('input[name="_remember_me"]').val(),t=jQuery('input[name="_csrf_token"]').val(),u="_username="+n+"&_password="+e+"&_submit="+a+"&_remember_me="+r+"&_csrf_token="+t;return u+"&_checksum="+MD5.Run(n+e+a+r+t)}function e(){var e,a,r=$("#login_form"),t=r.find("input");r.submit(function(r){e&&e.abort(),a=n(),t.prop("disabled",!0),e=$.ajax({url:"/login_check",type:"post",data:a}),e.done(function(n){n.success?window.location.replace("app"):toastr.warning(n.message)}),e.fail(function(){toastr.error("Wystąpił nieoczekiwany błąd")}),e.always(function(){t.prop("disabled",!1)}),r.preventDefault()})}return{Run:function(){e()}}}();