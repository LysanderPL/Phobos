/**
 * Created by maciej on 16.07.16.
 */
var Login=function(){"use strict";function n(){var n=jQuery('input[name="_username"]').val(),e=MD5.Run(jQuery('input[name="_password"]').val()),r=jQuery('input[name="_submit"]').val(),a=jQuery('input[name="_remember_me"]:checked').val(),t=jQuery('input[name="_csrf_token"]').val(),u="_username="+n+"&_password="+e+"&_submit="+r+"&_remember_me="+a+"&_csrf_token="+t;return u+"&_checksum="+MD5.Run(n+e+r+a+t)}function e(){var e,r,a=$("#login_form"),t=a.find("input");a.submit(function(a){e&&e.abort(),r=n(),t.prop("disabled",!0),e=$.ajax({url:"/login_check",type:"post",data:r}),e.done(function(n){n.success?window.location.replace("app"):toastr.warning(n.message)}),e.fail(function(n,e,r){toastr.error(r)}),e.always(function(){t.prop("disabled",!1)}),a.preventDefault()})}return{Run:function(){e()}}}();